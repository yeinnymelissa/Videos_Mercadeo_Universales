<div class="container">
    <div *ngIf="opcion == 1">
        <div class="mb-3 row">
            <h3 class="col-sm-7">Actualizar Video</h3>
            <button type="button" class="btn btn-success col-sm-2" (click)="actualizarVideoBoton()" type="submit">Actualizar</button>
            <button type="button" class="btn btn-danger col-sm-2"  (click)="cancelarOperacion()" type="submit">Cancelar</button>
        </div>
        <div class="mb-3 row">
            <label for="staticId" class="col-sm-2 col-form-label">Id</label>
            <div class="col-sm-10">
                <input type="text" readonly class="form-control-plaintext" id="staticId" value={{idVideo}}>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputDuracion" class="col-sm-2 col-form-label">Duracion</label>
            <div class="col-sm-3">
                <input type="number" [(ngModel)]='duracionVideo' class="form-control" id="inputDuracion" value={{duracionVideo}} required="true">
            </div>
            <label class="col-sm-2 col-form-label">min</label>
        </div>
        <div class="mb-3 row">
            <label for="inputExpositor" class="col-sm-2 col-form-label">Expositor</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='expositorVideo' class="form-control" id="inputExpositor" value={{expositorVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputNombre" class="col-sm-2 col-form-label">Nombre</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='nombreVideo' class="form-control" id="inputNombre" value={{nombreVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputDescripcion" class="col-sm-2 col-form-label">Descripci贸n</label>
            <div class="col-sm-8">
                <textarea class="form-control" [(ngModel)]='descripcionVideo' id="inputDescripcion" rows="4" value={{descripcionVideo}}></textarea>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputEnlace" class="col-sm-2 col-form-label">Enlace</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='enlaceVideo' class="form-control" id="inputEnlace" value={{enlaceVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputAgrupador" class="col-sm-2 col-form-label">Agrupador de Video</label>
            <div class="col-sm-8">
                <p-treeSelect id="agrupador" class="md:w-20rem w-full" containerStyleClass="w-full" [(ngModel)]="selectedNodes" [options]="nodes" placeholder="Seleccione una opcion" required="true"></p-treeSelect>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputEstado" class="col-sm-2 col-form-label">Estado</label>
            <div class="col-sm-8">
                <p-treeSelect id="estado" class="md:w-20rem w-full" containerStyleClass="w-full" [(ngModel)]="estadoEleccion" [options]="estadoNodo" placeholder="Seleccione una opcion" required="true"></p-treeSelect>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputChip" class="col-sm-2 col-form-label">Tags</label>
            <div class="col-sm-10">
                <div class="card p-fluid form-control">
                    <p-chips [(ngModel)]="values" id="inputChip"></p-chips>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="opcion == 2">
        <div class="mb-3 row">
            <h3 class="col-sm-7">Guardar un nuevo video</h3>
            <button type="button" class="btn btn-success col-sm-2" (click)="guardarVideoBoton()" type="submit">Guardar</button>
            <button type="button" class="btn btn-danger col-sm-2"  (click)="cancelarOperacion()" type="submit">Cancelar</button>
        </div>
        <div class="mb-3 row">
            <label for="inputDuracion" class="col-sm-2 col-form-label">Duracion</label>
            <div class="col-sm-3">
                <input type="number" [(ngModel)]='duracionVideo' class="form-control" id="inputDuracion" value={{duracionVideo}} required="true">
            </div>
            <label class="col-sm-2 col-form-label">min</label>
        </div>
        <div class="mb-3 row">
            <label for="inputExpositor" class="col-sm-2 col-form-label">Expositor</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='expositorVideo' class="form-control" id="inputExpositor" value={{expositorVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputNombre" class="col-sm-2 col-form-label">Nombre</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='nombreVideo' class="form-control" id="inputNombre" value={{nombreVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputDescripcion" class="col-sm-2 col-form-label">Descripci贸n</label>
            <div class="col-sm-8">
                <textarea class="form-control" [(ngModel)]='descripcionVideo' id="inputDescripcion" rows="4" value={{descripcionVideo}}></textarea>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputEnlace" class="col-sm-2 col-form-label">Enlace</label>
            <div class="col-sm-8">
                <input type="text" [(ngModel)]='enlaceVideo' class="form-control" id="inputEnlace" value={{enlaceVideo}} required="true">
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputAgrupador" class="col-sm-2 col-form-label">Agrupador de Video</label>
            <div class="col-sm-8">
                <p-treeSelect id="agrupador" class="md:w-20rem w-full" containerStyleClass="w-full" [(ngModel)]="selectedNodes" [options]="nodes" placeholder="Seleccione una opcion" required="true"></p-treeSelect>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputEstado" class="col-sm-2 col-form-label">Estado</label>
            <div class="col-sm-8">
                <p-treeSelect id="estado" class="md:w-20rem w-full" containerStyleClass="w-full" [(ngModel)]="estadoEleccion" [options]="estadoNodo" placeholder="Seleccione una opcion" required="true"></p-treeSelect>
            </div>
        </div>
        <div class="mb-3 row">
            <label for="inputChip" class="col-sm-2 col-form-label">Tags</label>
            <div class="col-sm-10">
                <div class="card p-fluid form-control">
                    <p-chips [(ngModel)]="values" id="inputChip"></p-chips>
                </div>
            </div>
        </div>
    </div>
    <div class="mb-3 row" *ngIf="opcion == 0">
        <div class="col-sm-11"></div>
        <p-button class="col-sm-1" icon="pi pi-plus" type="submit" (click)="guardarVideo()"></p-button>
    </div>
    <div class="card">
        <p-table
            [value]="videos"
            [paginator]="true"
            [rows]="5"
            [showCurrentPageReport]="true"
            [tableStyle]="{ 'min-width': '50rem' }"
            currentPageReportTemplate="Mostrando {first} hasta {last} de {totalRecords} entradas"
            [rowsPerPageOptions]="[5, 10, 15]"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th style="width:25%; text-align: center;">Editar</th>
                    <th pSortableColumn="idVideo" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Id
                            <p-sortIcon field="idVideo"></p-sortIcon>
                            <p-columnFilter type="text" field="idVideo" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="duracion" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Duraci贸n
                            <p-sortIcon field="duracion"></p-sortIcon>
                            <p-columnFilter type="text" field="duracion" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="expositor" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Expositor
                            <p-sortIcon field="expositor"></p-sortIcon>
                            <p-columnFilter type="text" field="expositor" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="nombre" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Nombre
                            <p-sortIcon field="nombre"></p-sortIcon>
                            <p-columnFilter type="text" field="nombre" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="descripcion" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Descripci贸n
                            <p-sortIcon field="descripcion"></p-sortIcon>
                            <p-columnFilter type="text" field="descripcion" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="estado" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Estado
                            <p-sortIcon field="estado"></p-sortIcon>
                            <p-columnFilter type="text" field="estado" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="agrupadorVideo.nombre" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Agrupador de Video
                            <p-sortIcon field="agrupadorVideo.nombre"></p-sortIcon>
                            <p-columnFilter type="text" field="agrupadorVideo.nombre" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                    <th pSortableColumn="enlace" style="min-width: 14rem">
                        <div class="flex justify-content-between align-items-center">
                            Enlace
                            <p-sortIcon field="enlace"></p-sortIcon>
                            <p-columnFilter type="text" field="enlace" display="menu" class="ml-auto"></p-columnFilter>
                        </div>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-videos>
                <tr>
                    <td>
                        <p-button icon="pi pi-file-edit" type="submit" (click)="actualizarVideo(videos.idVideo)"></p-button>
                    </td>
                    <td>{{ videos.idVideo }}</td>
                    <td>{{ videos.duracion }}</td>
                    <td>{{ videos.expositor }}</td>
                    <td>{{ videos.nombre }}</td>
                    <td>{{ videos.descripcion }}</td>
                    <td>{{ this.obtenerEstado(videos.estado)}}</td>
                    <td>{{ videos.agrupadorVideo.nombre }}</td>
                    <td>{{ videos.enlace }}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>